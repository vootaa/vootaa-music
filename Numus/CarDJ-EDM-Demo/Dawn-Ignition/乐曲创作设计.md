# Dawn Ignition — 创作设计

概述

- 项目定位：progressive_house，车载优化，确定性生成（Numus 管线）。
- 时长：25 分钟；BPM：120；调性：C 大调；拍号：4/4。
- 能量曲线：0.3 → 0.7 → 0.9 → 0.6（低→中→高→缓释）。
- 车载优化要点：低频加厚（20–100Hz）、前置清晰（Lead/Snare）、环绕氛围（Pad + Reverb）。
- 确定性 DNA：使用 π 序列（偏移 1000）生成修饰，meta.json 存储种子与参数。

输出与工作流

- 骨干（Sonic Pi）：实时循环（Kick/Bass/Pad/Lead），使用 live_loop，同步 sync: :met 或 :kick，能量通过 amp / fx 控制。
- 修饰层（MIDI → WAV）：确定性生成（π映射）为短采样，渲染后嵌入骨干。
- 输出路径约定：`out/wav/dawn_ignition/<chapter>/<section>/<role>.wav`
- 元数据：`meta.json`（含 DNA 参数、π 切片范围、变换记录）。
- 实验流程：先搭骨干 → 生成修饰 WAV → 加载 Sonic Pi → 录制试听 → 迭代 DNA。

乐曲结构（6 章，每章 4–5 分钟）
每章包含三段（Intro / Build / Sustain），以下为精简设计要点。

Chapter 1 — Gentle Awakening（4 分钟）

- 能量：0.3 → 0.4
- 骨干：soft_pad；轻 Kick（每4拍）；无 Bass；FX：reverb 0.5
- Sections:

  - 1.1 Intro（1:00）— 能量 0.3，密度 0.2，角色：ambient_pad_sparkle
  - 1.2 Build（1:30）— 能量 0.35，密度 0.3，角色：subtle_rise_noise
  - 1.3 Sustain（1:30）— 能量 0.4，密度 0.25，角色：gentle_echo_sparkle

Chapter 2 — Pulse Forming（4 分钟）

- 能量：0.4 → 0.6
- 骨干：Kick 固化（每拍）；sub_bass 进入；FX：distortion 0.3
- Sections:
  - 2.1 Intro（1:00）— 能量 0.4，密度 0.4，角色：pulse_kick_echo
  - 2.2 Build（1:30）— 能量 0.5，密度 0.5，角色：bass_rise_sparkle
  - 2.3 Sustain（1:30）— 能量 0.6，密度 0.45，角色：mid_freq_noise

Chapter 3 — First Lift（4 分钟）

- 能量：0.6 → 0.8
- 骨干：saw_lead；Snare 加入；Bass/Pad 强化；FX：filter 扫频
- Sections:
  - 3.1 Intro（1:00）— 能量 0.6，密度 0.5，角色：lead_sparkle_high
  - 3.2 Build（1:30）— 能量 0.7，密度 0.6，角色：rising_lead_noise
  - 3.3 Sustain（1:30）— 能量 0.8，密度 0.55，角色：high_energy_echo

Chapter 4 — Glide Cruise（4 分钟）

- 能量：0.8（稳定高）
- 骨干：melody_pad（旋律稀疏）；稳定律动；FX：delay 0.4
- Sections:
  - 4.1 Intro（1:00）— 能量 0.8，密度 0.5，角色：glide_melody_sparkle
  - 4.2 Build（1:30）— 能量 0.8，密度 0.45，角色：sparse_noise_rise
  - 4.3 Sustain（1:30）— 能量 0.8，密度 0.4，角色：ambient_glide_echo

Chapter 5 — Second Lift（4 分钟）

- 能量：0.8 → 0.9
- 骨干：装饰（fx_decor）加入；Lead/Bass 高潮；FX：reverb + distortion
- Sections:
  - 5.1 Intro（1:00）— 能量 0.8，密度 0.6，角色：decor_sparkle_high
  - 5.2 Build（1:30）— 能量 0.85，密度 0.7，角色：peak_noise_rise
  - 5.3 Sustain（1:30）— 能量 0.9，密度 0.65，角色：intense_echo_sparkle

Chapter 6 — Soft Release（5 分钟）

- 能量：0.9 → 0.6（缓释）
- 骨干：sub_fade（低频回收）；Pad 柔和；FX：fade_out
- Sections:
  - 6.1 Intro（1:30）— 能量 0.8，密度 0.5，角色：soft_release_sparkle
  - 6.2 Build（1:30）— 能量 0.7，密度 0.4，角色：fade_noise_echo
  - 6.3 Sustain（2:00）— 能量 0.6，密度 0.3，角色：ambient_fade_sparkle

全局约束与实现细节

- 和弦进程：I–V–vi–IV（C 大调）。
- 立体声位置：pan 范围 -0.5 到 0.5（用于创建环绕感）。
- 动态处理：压缩目标峰值 peak ≈ 0.8；低频优先（车载表现）。
- 确定性生成：
  - π 序列示例：π[1000:1100] → 音符/参数映射。
  - 变换：thin（密度减半）、shift（音高偏移 +2）。
  - DNA/种子写入：`meta.json`（记录 π 偏移、slice、变换列表、版本）。
- 过渡与同步：
  - 章节间渐变（amp 以 0.1/s 斜率变化）。
  - Section 内使用 sync（例如：`sync: :met`）保证事件对齐。

注（工作实践建议）

- 将此设计写入乐曲设计.md 的章节表。
- 创建 DNA JSON 文件（e.g., dawn_ignition_dna.json），包含所有 Section 参数。
- 编写 generate_decor.py：读取 DNA → 生成 MIDI（mido）→ 渲染 WAV（FluidSynth）→ 输出到 out/wav/。
- 先构建 Sonic Pi 骨干脚本：基于 `sonic-pi-code/snippets/scaffold.rb` 创建 dawn_ignition.rb，加载 WAV 采样，测试Chapter 1。
